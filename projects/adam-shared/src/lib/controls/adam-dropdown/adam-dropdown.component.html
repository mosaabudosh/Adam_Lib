<div dir="{{'dir' | translate}}" class="adam-flex adam-flex-row dropdown" [ngStyle]="getContainerStyle()"
    [ngClass]="{'invalid-border-style': !getIsValid(),'required': required}">
    <p-dropdown [options]="dataSource" [placeholder]="placeholder" [readonly]="readOnly" [loading]="_loading"
        (onChange)="handelChange($event)" [disabled]="dropdownDisabled" [filter]="filter" [(ngModel)]="_selectedValue"
        [ngStyle]="getStyles()" [required]="required" (onBlur)="handleOnBlur($event)" (onFocus)="handleOnFocus($event)"
        emptyFilterMessage="{{emptyFilterMessage}}" (onShow)="handleOnShow($event)" (onHide)="handleOnHide($event)"
        [group]="group" appendTo="body" [virtualScroll]="_virtualScroll" [lazy]="lazy" (onLazyLoad)="lazyLoad($event)"
        [virtualScrollItemSize]="_virtualScrollItemSize" [virtualScrollOptions]="_virtualScrollOptions">

        <ng-template pTemplate="selectedItem" let-selectedItem *ngIf="withImage">
            <div class="selected-item-with-image-style">
                <img src="{{selectedItem?.image?.imagePath}}"
                    [attr.width]="selectedItem?.image && selectedItem?.image?.width ? selectedItem?.image?.width : null"
                    [attr.height]="selectedItem?.image && selectedItem?.image?.height ? selectedItem?.image?.height : null"
                    [class]="" />
                <span>{{ selectedItem.label }}</span>
            </div>
        </ng-template>

        <ng-template let-group pTemplate="group">
            <div>
                <span>{{ group.label }}</span>
            </div>
        </ng-template>

        <ng-template let-dropdown pTemplate="dropdown">
            <img *ngIf="dropdown?.image" src="{{dropdown?.image?.imagePath}}"
                [attr.width]="dropdown?.image && dropdown?.image?.width ? dropdown?.image?.width : null"
                [attr.height]="dropdown?.image && dropdown?.image?.height ? dropdown?.image?.height : null"
                [class]="'image-dropdown-style'" />
            <span class="dropdown">
                {{ dropdown.label }}
            </span>
        </ng-template>
    </p-dropdown>
</div>